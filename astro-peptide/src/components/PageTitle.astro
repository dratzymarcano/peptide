---
interface BreadcrumbItem {
  name: string;
  url?: string;
}

interface Props {
  title: string;
  subtitle?: string;
  breadcrumbs?: BreadcrumbItem[];
  variant?: 'dark' | 'light';
}

const { 
  title, 
  subtitle, 
  breadcrumbs = [],
  variant = 'dark'
} = Astro.props;
---

<section class={`page-title-section ${variant}`}>
  <div class="container">
    {breadcrumbs.length > 0 && (
      <nav aria-label="breadcrumb" class="mb-3">
        <ol class="breadcrumb-list">
          {breadcrumbs.map((item, index) => (
            <li class={`breadcrumb-item ${!item.url ? 'active' : ''}`}>
              {item.url ? (
                <a href={item.url}>
                  {index === 0 ? (
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                      <polyline points="9 22 9 12 15 12 15 22"></polyline>
                    </svg>
                  ) : (
                    item.name
                  )}
                </a>
              ) : (
                <span>{item.name}</span>
              )}
            </li>
          ))}
        </ol>
      </nav>
    )}
    <h1 class="page-heading">{title}</h1>
    {subtitle && (
      <p class="page-subtitle">{subtitle}</p>
    )}
    <slot />
  </div>
</section>

<style>
  /* Reset Bootstrap breadcrumb styles */
  .page-title-section .breadcrumb-item + .breadcrumb-item::before {
    content: none;
  }

  /* ===== ENTERPRISE MOBILE FIRST - Base styles for mobile ===== */
  .page-title-section {
    padding: 20px 0 24px;
  }

  .page-title-section .container {
    padding-left: 20px;
    padding-right: 20px;
  }

  /* Breadcrumb mobile - Touch-friendly */
  .breadcrumb-list {
    display: flex;
    align-items: center;
    list-style: none;
    padding: 0;
    margin: 0 0 12px;
    gap: 0;
    flex-wrap: wrap;
  }
  
  .breadcrumb-list .breadcrumb-item {
    display: flex;
    align-items: center;
    font-size: 13px;
    letter-spacing: 0.2px;
  }
  
  .breadcrumb-list .breadcrumb-item a {
    text-decoration: none;
    display: flex;
    align-items: center;
    transition: color 0.2s;
    -webkit-tap-highlight-color: transparent;
    padding: 6px 0;
    min-height: 36px;
  }

  .breadcrumb-list .breadcrumb-item a svg {
    width: 16px;
    height: 16px;
  }
  
  .breadcrumb-list .breadcrumb-item:not(:last-child)::after {
    content: 'â€º';
    display: inline-block;
    margin: 0 10px;
    font-size: 16px;
    opacity: 0.6;
    font-weight: 400;
  }
  
  .breadcrumb-list .breadcrumb-item:last-child::before {
    content: none;
  }
  
  .page-heading {
    font-size: 1.75rem;
    font-weight: 700;
    font-style: normal;
    margin: 0 0 10px;
    line-height: 1.25;
    letter-spacing: -0.3px;
  }
  
  .page-subtitle {
    margin: 0;
    font-size: 15px;
    line-height: 1.6;
    max-width: 600px;
  }

  /* Dark variant (default) - blue gradient with white text */
  .page-title-section.dark {
    background: linear-gradient(135deg, #023e8a 0%, #0077b6 100%);
  }
  
  .page-title-section.dark .breadcrumb-item {
    color: rgba(255, 255, 255, 0.8);
  }
  
  .page-title-section.dark .breadcrumb-item a {
    color: rgba(255, 255, 255, 0.85);
    font-weight: 500;
  }
  
  .page-title-section.dark .breadcrumb-item a:hover,
  .page-title-section.dark .breadcrumb-item a:active {
    color: white !important;
  }
  
  .page-title-section.dark .breadcrumb-item.active {
    color: white;
    font-weight: 600;
  }
  
  .page-title-section.dark .breadcrumb-item:not(:last-child)::after {
    color: rgba(255, 255, 255, 0.5);
  }
  
  .page-title-section.dark .breadcrumb-item svg {
    stroke: white;
  }
  
  .page-title-section.dark .page-heading {
    color: white;
  }
  
  .page-title-section.dark .page-subtitle {
    color: rgba(255, 255, 255, 0.85);
  }
  
  /* Light variant - light gradient with dark text */
  .page-title-section.light {
    background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
    border-bottom: 1px solid #e0e7ff;
  }
  
  .page-title-section.light .breadcrumb-item {
    color: #64748b;
  }
  
  .page-title-section.light .breadcrumb-item a {
    color: #64748b;
  }
  
  .page-title-section.light .breadcrumb-item a:hover {
    color: #0077b6 !important;
  }
  
  .page-title-section.light .breadcrumb-item.active {
    color: #1e293b;
  }
  
  .page-title-section.light .page-heading {
    color: #1e293b;
  }
  
  .page-title-section.light .page-subtitle {
    color: #475569;
  }

  /* ===== TABLET (576px+) ===== */
  @media (min-width: 576px) {
    .page-title-section {
      padding: 20px 0 24px;
    }

    .breadcrumb-list {
      margin-bottom: 12px;
    }

    .breadcrumb-list .breadcrumb-item {
      font-size: 13px;
    }

    .page-heading {
      font-size: 1.75rem;
    }

    .page-subtitle {
      font-size: 15px;
    }
  }

  /* ===== DESKTOP (768px+) ===== */
  @media (min-width: 768px) {
    .page-title-section {
      padding: 24px 0 32px;
    }

    .page-title-section .container {
      padding-left: 15px;
      padding-right: 15px;
    }

    .breadcrumb-list .breadcrumb-item {
      font-size: 14px;
    }
    
    .page-heading {
      font-size: 2rem;
      font-style: italic;
    }
    
    .page-subtitle {
      font-size: 1rem;
    }
  }

  /* ===== LARGE DESKTOP (992px+) ===== */
  @media (min-width: 992px) {
    .page-title-section {
      padding: 28px 0 36px;
    }

    .page-heading {
      font-size: 2.25rem;
    }
  }
</style>
